# woowacourse-open-mission

# 🎯 오픈 미션: MVC 패턴의 필요성 체험 프로젝트

## ✅ 미션 목적

현대 웹 개발에서는 MVC 패턴이 당연하게 사용합니다.
하지만 *왜* MVC가 필요한지, 그리고 *MVC를 사용하지 않으면 얼마나 유지보수가 힘들어지는지*를 **직접 체험하는 과정**이 중요하다고 생각하여
이번 미션을 하게 되었습니다.

이 미션에서는 **선배 개발자들의 방식**으로 웹 애플리케이션을 점진적으로 개선하며  
**MVC 패턴이 가지는 의미를 이해하는 것**을 목표로 합니다


## 🚀 개발 환경

| 항목 | 사용 기술 |
|---|---|
| 언어 | Java 8+ |
| 서버 | **Tomcat** |
| View | JSP |
| Servlet Spec | javax.servlet.* |



## 🏗️ 단계별 구현

### 1단계 – 단일 서블릿 구조 (스파게티 코드 체험)

**🎯 목표:**  
- 하나의 서블릿이 **요청 처리 + 비즈니스 로직 + HTML 렌더링**을 모두 수행하도록 구현합니다.  
- **MVC 이전 방식의 유지보수 지옥을 체험합니다.**



### 2단계 – JSP로 View 분리

**🎯 목표**

- 출력(View)은 JSP에서 처리하도록 리펙토링 합니다.
- Servlet은 Controller 역할(요청 수신 + 데이터 전달)만 담당합니다.
- “JSP는 HTML+표현, Controller는 흐름 제어”의 역할만 하도록 합니다.


### 3단계 – Model(Service) 분리 (MVC 패턴 완성)

**🎯 목표**

- 비즈니스 로직을 Service 클래스로 분리하여 Controller의 책임을 줄입니다.
- MVC의 Model, View, Controller 역할이 명확하게 분리된 구조를 만듭니다.


## 🎰 로또 서비스 API 구조

### 1) 메인 화면
| 기능 | 설명 | 요청 | URL |
|-----|------|-----|-----|
| 메인 페이지 | 시작하기 / 조회하기 선택 화면 | GET | `/` |

### 2) 로또 구매 및 결과 조회
| 단계 | 기능 | 설명 | 요청 | URL |
|----|------|------|------|------|
| 1 | 구매 입력 화면 | 이름, 금액 입력 폼 제공 (View) | GET | `/lotto` |
| 2 | 로또 번호 생성 | 금액(1000원 단위)에 따라 번호 여러 세트 생성 | POST | `/lotto` |
| 3 | 당첨 번호 생성 | 랜덤 당첨 번호 + 보너스 번호 생성 | POST | `/lotto/winning` |
| 4 | 당첨 결과 확인 | 사용자의 구매 번호와 당첨 번호 비교 → 당첨 통계 표시 | GET | `/lotto/result?name={name}` |

### 3) 구매 이력 조회
| 기능 | 설명 | 요청 | URL |
|------|------|------|------|
| 사용자 목록 조회 | 지금까지 로또 구매한 사용자 목록 출력 | GET | `/history` |
| 사용자별 상세 조회 | 선택한 사용자의 당첨 결과/수익률 확인 | GET | `/history/{name}` |


### 🔥 요약 흐름 다이어그램


```text
/ (메인 화면)
│
├─ "시작하기" → GET /lotto
│      └─ 이름 + 금액 입력 폼 표시
│
├─ 로또 번호 생성 → POST /lotto
│      └─ 금액(1000원 단위) → 로또 번호 세트 생성 및 출력
│
├─ 당첨 번호 생성 → POST /lotto/winning
│      └─ 당첨 번호 + 보너스 번호 랜덤 생성
│
├─ 당첨 결과 확인 → GET /lotto/result?name={name}
│      └─ 구매 번호와 당첨 번호 비교 → 당첨 통계 출력
│
└─ "조회하기" → GET /history
       └─ 전체 사용자 목록 표시
              ↓
           GET /history/{name}
              └─ 해당 사용자의 당첨 통계 상세 조회
```








